============
==BUILD 16== released
============    build 14 was ?; build 15 was items + inventory + nanites; build 16 added crafting blocks

durabilities out of sync / toolbelt copying wrong data?
FIXED

when crafting multiple in hand, hand stack does not increase in UI
DONE

nanite food slot does not respond to normal merge
FIXED

hearing other players' pickup sounds??
FIXED

send periodic state teleport for bots
FIXED

flag pickup? -- says "You have the flag" but at least is not hidden
FIXED

replace assert with GS_ASSERT
DONE

agent inventory not dropped on quit
FIXED

fish see through terrain, or keep shooting through it
FIXED

agent_died assert
FIXED

20-10-5 player damage
DONE

reduce laser rifle durability
DONE

fix damage indicator terrain bleedthrough
DONE

mining laser beam on player can lag camera -- this is because skeleton is used and out of sync
--use camera instead of skeleton
FIXED

damage indicator on mobs
DONE

monster spawners respawning?
FIXED

include guards on server_/client_state.*pp, c_lib/agent/client/*
DONE

alpha blending on container hud text
DONE

ctrl-c server while agent connected -- segfault
FIXED

footstep sound function
step 1-4: soft,hard
fall 1-4: soft,hard
DONE

destroy damage indicators on 2nd bounce
DONE

dynamic object list templates -- integrated for item, itemparticle and itemcontainer
DONE

remove craft container from initial toolbelt
DONE

Add block placer to nanite
DONE

fix segfault when clicking before received toolbelt
DONE

ctrl-c exit for client
DONE

adjust damages against mobs
DONE

craft container blocks drop craft container block
DONE

better robot laser sound
DONE

right side up isometric blocks
DONE

use 64pixel isometric texture
-- texture blit copies pixels directly
--Try: shirnking the 64 texture to 16 after generation. the shitty look is due to the draw_iso_sprite() method, opengl should interpolate better
DONE

============
==BUILD 17== released may 22
============

fix failure to unset container ui widget id
DONE

fist
DONE

shovels
DONE

opening container also executes click on inventory
FIXED

GS_ASSERT error: /home/steve/dc_mmo/server/c_lib/t_map/t_map.cpp, line 115 function: apply_damage_broadcast 
FIXED

hand item is not thrown when closing craft bench
FIXED

item eater:
"halve a stack, place it where another stack of a different item is, place in the same spot, move the stack that was halved anywhere, the replaced stack disappears"
FIXED !!! (needed to call container_remove in full hand swap to get the item's  container_id/slot references updated)

<Kaprekar> i don't think blocks are stacking properly. i opened my inventory and had about 4 stacks of varying sizes of the same item type after mining away for a while
-- better autofill
DONE

grey out purchase that cant be afforded
DONE

fix infinite money bug in nanite (beta action error)
DONE

adjust durability coloring thresholds
DONE

move ItemSheetTexture out of t_hud and into TextureSheetLoader
DONE

fix rotation on isometric block sides
DONE

--May 24, told brandon he would take two weeks to do map gen

restore block damage for laser rifles
DONE

storage blocks
DONE

disable voxel model damage
DONE

blue bombs drop grenades
DONE

replace grenade durability with stacks
DONE

red bots should do random dmg
DONE

blue bombs and red bots should have random health
DONE

health transmitted with mobs
DONE

disable grue (annoying in camera on startup)
DONE

restore shrapnel animations
DONE

fixed a major bug in ObjectList, was returning uninitialised/old objects when should have been returning NULL
DONE

fix teardown for agent quit in container
DONE

==============
== BUILD 18 ==  released may 25
==============

swap settings_production with settings -- settings_dev is default in dev build
DONE

osx 10.5+ build
DONE

remove 2nd fps label; switch to fps units
DONE

check that packets are reliable
DONE (all were)

add graceful failure for some missing container conditions
DONE

object health state packets -- send actual health on init (will need later for enemy health UI)
DONE

map gen uses strictly canonical block names
DONE

container window doesnt close when active container gets destroyed
FIXED

some container cant be opened
DONE

higher res textured voxel block drops (full 32x32)
DONE

glsl skybox
DONE

fix hud texture loading formats for OSX
DONE

adjust mining laser png to remove edge
DONE

close client if version does not match
DONE

build# subfolders in downloads on site
DONE

simple object list for preallocated minivox particles, blood
DONE

fix initial map loading position
DONE

blue bombs should damage terrain like grenades
DONE

map wrap entity system physics components
DONE

map wrap agent states
DONE

map wrap camera
DONE

map wrap sound
DONE

container orientation palette
DONE

map wrap rendering, targeting hitscan etc
DONE

nanite container refactor
DONE

blue bombs aggro if shot
DONE

add steel
DONE

variable stack sizes and outputs in craft recipes
DONE

nanite hud refacotr
DONE

tooltips
DONE

block damage sound
DONE

block placement sound
DONE

OpenAL attenuation graph tool
https://www.desmos.com/calculator/uh7trifxxx
DONE

grenade/laser attenuations
DONE

spawn everyone on same team
DONE
spawn base in center of map
DONE
disable flag
DONE
disable team chat
DONE

auto-pickup tries the toolbelt first, then inventory
DONE

fix click-hold lock when toggling inventory:
If a container block is opened, Toolbelt action releae will force triger
If mouse is released with agent inventory open, Toolbelt action release will force trigger
You can still hold down, open+close agent inventory, and if you hadn't released the mouse it will still be held
DONE

update help text
DONE

valgrind fixes
DONE

"Press H for help" on connect
DONE

Never spawn partially inside a block
DONE

==============
== BUILD 19 ==  released jun 1
==============

if switching weapons while holding down, cancel
DONE

fix k kill switch
DONE

graceful handling of null item errors
DONE

dump toolbelt & nanite contents on exit
DONE

client_id counting starts at 0
DONE

version is packet 0
DONE

destroy item particles if they fall below a certain depth
DONE

destroy item tied to item particle if item particle falls to death or times out
DONE

spawn team bases at 1/4 x,y and 3/4 x,y
DONE

use current_camera for right click container open
DONE

move 3d settings toggle and screenshot keys to debug input mode only
DONE

fix enemy hud names
DONE

simple object list for hitscan lasers, grenade shrapnel, billboard text
DONE

fulstrum culling for hitscan lasers, billboard text, item particles
DONE

items with no special action default to punching
DONE

compass uses current camera state
DONE

C glyph on map when free camera in use
DONE

better handling of sound buffer filling
DONE

graceful error handling for ~half of the GS_ASSERTs
DONE

refill toolbelt on death, if empty/low
DONE

lots of error handling, debugging.
if running private production testing MAKE SURE TO CALL RUN LIKE: ./run lua/settings_dev.lua
DONE

fix container locks
DONE

network container lock state
DONE

item ids should be rolling over; might not have been destroying source item for particles
DONE

trigger ItemContainer::agent_died when switching teams
DONE

block container interactions at input,client container handling and CtoS handler levels, if player dead
DONE

close private inventory if player dies
DONE

map wrap rendering in intel gpu mode
DONE [[ BRANDON ]]

increase bombs, decrease fish
DONE

using ItemGroup typedef
DONE

repair kits, heals 50, buy them from nanite, drop from fish
DONE

parameterize open/close container input handling shit
DONE

container type loading for storage block ui element
DONE

cryofreezer
DONE

decay gaseous block items
DONE

methane blocks
DONE

steel blocks take higher damage
DONE

refactor item transition shit
DONE

better methane distribution
DONE

indicate slot on nanite graphic
DONE

enable hud toggle in debug mode only, but for all builds
DONE

early user analytics, recording time played per client to analytics log
DONE

==============
== BUILD 20 ==  released jun 8
==============

fix client attempting to set block outside of map z, and server relaying it
DONE

fix container unlock feedback loop when detaching due to distance
DONE

fix billboard hud names not disappearing
DONE

location/location_id for items
DONE

hand insert/remove functions
DONE

correct server side state transitions for a lot of events
DONE

right click outside of container throws 1
DONE

sound config for loops
DONE

mining laser whoosh sound
DONE

improve toolbelt on/off state & event handling (still needs work especially when we are triggering allies' events)
DONE

add sendToClients method for StoC packets
DONE

fix asymmetrical fish climbing
DONE

subscription lists integrated for items -- still has bugs
DONE

symmetrical z up/down for mobs so things don't get stuck
DONE

change "grenade launcher" to "plasma grenade"
DONE

fix durability colors hand item
DONE

disconnect on version mismatch and draw message on screen
DONE

nanite FOOD slot
DONE

fix off-by-1 ui slot
DONE

fix server crash point -- entity system (core reason, components running out, not resolved)
DONE

smelter
DONE

players can't destroy z level 0
DONE

clear container block contents on close, client side
DONE

admin set block for container blocks creates a container (fixes assert issue)
DONE

put caps on the elastic lists
DONE

touched up food/coin/fuel text in hud textures
DONE

bombs stop chasing if player dies
DONE

blue bombs lose target after N ticks (10 seconds)
DONE

fix item state assert
DONE

switch methane ice to item sprite
DONE

== PVE ==
blue bombs should be wandering, slowly

red bots should have a small random tick delay (0-5 maybe) between acquiring agent as a target and firing
this will let players "dodge"

some boxes arent getting destination correctly -- just jumping around with state updates
--especially when cross boundaries

== GFX ==
glsl colored/textured voxels
texture color problem in OSX -- for blocks and for items
Hud Weapon sprites + animation
use font DST_COLOR only for certain ui elements

== SOUND ==
improve digging sounds
falling sounds
    -- record last velocity when colliding with z. at 2 thresholds play harsher sounds

== MAINTENANCE/REFACTORS ==
toolbelt: turn fire on/off method for server
elastic component lists
craft/smelting recipes need reagents sorted by stack size in addition to type -- currently only by type
    -- is not a problem until multiple of the same type have different stack sizes
    -- so add assert in the recipe def

== UI/UX ==
<Kaprekar> ahhh, pressing alt+space causes you to jump and move in one direction constantly until you alt-tab out
-- windows only?
alt tab doesnt work in fullscreen (on linux at least)
--attempt to do best alt-tab again? (the issue before was with how it regrabbed focus -- the event for mouse passing over window was the same as alt-tabbing back to the window)

== CONTAINERS ==

== ITEMS ==

== ANALYTICS ==
Need to keep track of IP address etc in a new data structure:
Indexes on IP address
--Record all sessions
Sessions:
    --Record all names used
    --Time played
Record population to log at regular time interval, so can be graphed easy
log chat history

== GENERAL ==
put spawners back in
    -- needs better UI
    -- needs crafting path

disable teams
get rid of green team thing
pick single good color for team
use durability coloring to teammate health
add right click to heal teammate with health pack
show +health in green particle

== MAP ==

== SMELTER ==

==BUGZ==

TODO for build

print user session data on logout
print # of client on connect and disconnect
clean the printlog for analytics
record names
