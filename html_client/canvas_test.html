
<html>



<head>
<title>canvas test</title>

<STYLE TYPE="text/css">
canvas { 
background: #777777;
}
</STYLE>
</head>


<body>


<canvas id ="test" width="200" height="200" > </canvas>

<br> <br><br>
<img id="img2" src="http://www.images-photography-pictures.net/jennifer-lopez-picture-SiRi.jpg">
<br> <br><br>
<img id="img3" src="http://127.0.0.1:8056/static/tiles/Bisasam_20x20_ascii.png">

<script>

	var canvas = document.getElementById("test");
	var context = canvas.getContext("2d");	
	var image = new Image();
	
	image.onload = function() {	
	//alert("start2");	
	//context.drawImage(image, 0,0);
	//alert("start3");
	
	
	sx = 20;
	sy = 0;
	sh = 20;
	sw = 20;
	
	dw = 50;
	dh = 50;
	dx =0;
	dy = 0;
	
	context.drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh);
	alert("start3");
	};
	image.src = "http://127.0.0.1:8056/static/tiles/Bisasam_20x20_ascii.png";
	//image.src = "http://www.images-photography-pictures.net/jennifer-lopez-picture-SiRi.jpg";

	
//	context.fillRect(25,25, 50, 50);


/*
	tile_pw = 20; //tile pixel width for tileset
	tile_ph = 20; //tile pixel height for tilset
	//context.drawImage(this.tile_set, xs, ys, tile_pw, tile_ph, 0, 0, this.tpw, this.tph)
	sx = 20;
	sy = 0;
	sh = 40;
	sw = 40;
	
	dw = 100;
	dh = 100;
	dx =0;
	dy = 0;
	
	img2 = document.getElementById("img2");
	img3 = document.getElementById("img3");
	
	Image.onload = function() {	
		
	var canvas = document.getElementById("test");
	var context = canvas.getContext("2d");		
	context.drawImage(image, 0,0);
	alert("image load");
	}
	//context.drawImage(image2, sx, sy, sw, sh, dx, dy, dw, dh);
	alert("done");
*/
alert("done");
</script>

</body>
</html>
